{"version":3,"sources":["App.js","index.js"],"names":["mathscale","x","inLow","inHigh","outLow","outHigh","arguments","length","NaN","Infinity","cnf","cno","o","Object","keys","filter","k","join","Tone","context","lookAhead","SineIcon","props","react","viewBox","width","height","className","d","SquareIcon","points","TriangleIcon","SawIcon","HarmonicIcon","TuneIcon","x1","y1","x2","y2","LinkIcon","NoiseIcon","TYPING_MAP","a","s","f","g","h","j","l",";","q","w","r","t","u","i","A","S","D","F","G","H","J","K","L",":","Q","W","R","T","U","I","O","RadioBankOption","id","concat","name","value","type","checked","onChange","handleChange","htmlFor","label","RadioBank","state","selected","_this","defaultValue","options","_this2","this","map","option","App_RadioBankOption","key","e","setState","target","React","Slider","val","_this3","initialValue","min","_this4","orient","v","parseFloat","max","step","Knob","_this5","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","startDrag","preventDefault","knob","getBoundingClientRect","cX","left","cY","top","handleMove","deg","getDeg","clientX","clientY","minAngle","maxAngle","document","addEventListener","removeEventListener","aX","aY","bX","bY","y","Math","atan","PI","_this5$props","_this5$props$minAngle","_this5$props$maxAngle","_this5$props$defaultV","knob-outer","knob-small","small","knob-medium","medium","onMouseDown","style","transform","Oscilloscope","_this8","canvas","loop","requestAnimationFrame","firstValue","getContext","analysis","waveform","getValue","margin","clearRect","beginPath","len","moveTo","lineTo","lineCap","fillStyle","fill","Waveform","Master","connect","current","ref","App","_this9","handleKeyDown","note","playing","includes","synth1","triggerAttack","synth2","noiseEnv","noise","start","prevState","toConsumableArray","handleKeyUp","n","triggerRelease","AmplitudeEnvelope","attack","decay","sustain","PolySynth","Synth","oscillator","toMaster","Noise","volume","chain","_this10","onKeyDown","onKeyUp","tabIndex","App_Oscilloscope","App_RadioBank","App_SineIcon","App_SquareIcon","App_TriangleIcon","App_SawIcon","oscType","set","App_Slider","voices","forEach","synth","envelope","release","App_Knob","defineProperty","detune","round","App_TuneIcon","partials","pow","App_HarmonicIcon","App_LinkIcon","App_NoiseIcon","ReactDOM","render","react_default","createElement","src_App","getElementById"],"mappings":"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","file":"static/js/main.e9346209.chunk.js","sourcesContent":["// @flow\n//\nimport * as React from 'react';\nimport Tone from 'tone';\n\n// from core-js\nfunction mathscale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0 ||\n    /* eslint-disable no-self-compare */\n    x != x ||\n    inLow != inLow ||\n    inHigh != inHigh ||\n    outLow != outLow ||\n    outHigh != outHigh\n    /* eslint-enable no-self-compare */\n  )\n    return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return ((x - inLow) * (outHigh - outLow)) / (inHigh - inLow) + outLow;\n}\n\nconst okf = o => Object.keys(o).filter(k => o[k]);\nconst cnf = cno => okf(cno).join(' ');\n\nTone.context.lookAhead = 0;\n\nconst SineIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <path d=\"M3.3,12c0,0,4.1-9.3,8.7,0s8.7,0,8.7,0\" />\n    </g>\n  </svg>\n);\n\nconst SquareIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <polyline points=\"20.7,7.7 20.7,16.3 12,16.3 12,7.7 3.3,7.7 3.3,16.3 \t\t\" />\n    </g>\n  </svg>\n);\n\nconst TriangleIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <polyline points=\"3.3,16.3 12,7.7 20.7,16.3 \t\t\" />\n    </g>\n  </svg>\n);\n\nconst SawIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <polyline points=\"3.3,16.3 20.7,7.7 20.7,16.3 \t\" />\n    </g>\n  </svg>\n);\n\nconst HarmonicIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <path d=\"M3.3,12c0,0,4.1-9.3,8.7,0s8.7,0,8.7,0\" />\n      <path d=\"M20.7,12c0,0-2.1,9.3-4.3,0c-2.3-9.3-4.3,0-4.3,0s-2.1,9.3-4.3,0s-4.3,0-4.3,0\" />\n    </g>\n  </svg>\n);\n\nconst TuneIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <line x1=\"12\" y1=\"18.5\" x2=\"12\" y2=\"13\" />\n      <path d=\"M10,11c0,1.1,0.9,2,2,2s2-0.9,2-2\" />\n      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"5.5\" />\n      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"5.5\" />\n    </g>\n  </svg>\n);\n\nconst LinkIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <polyline points=\"6.3,17.2 11.5,12 6.3,6.8 \" />\n      <line x1=\"11.5\" y1=\"12\" x2=\"17.7\" y2=\"12\" />\n    </g>\n  </svg>\n);\n\nconst NoiseIcon = props => (\n  <svg viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" className=\"icon\">\n    <g>\n      <polyline points=\"5,16 8,8 11,16 12,12 15,16 17,8 19,16 \" />\n    </g>\n  </svg>\n);\n\nconst TYPING_MAP = {\n  a: 'A3',\n  s: 'B3',\n  d: 'C4',\n  f: 'D4',\n  g: 'E4',\n  h: 'F4',\n  j: 'G4',\n  k: 'A4',\n  l: 'B4',\n  ';': 'C5',\n  q: 'G#3',\n  w: 'Bb3',\n  r: 'C#4',\n  t: 'D#4',\n  u: 'F#4',\n  i: 'G#4',\n  o: 'Bb4',\n  A: 'A2',\n  S: 'B2',\n  D: 'C3',\n  F: 'D3',\n  G: 'E3',\n  H: 'F3',\n  J: 'G3',\n  K: 'A3',\n  L: 'B3',\n  ':': 'C3',\n  Q: 'G#2',\n  W: 'Bb2',\n  R: 'C#3',\n  T: 'D#3',\n  U: 'F#3',\n  I: 'G#3',\n  O: 'Bb3',\n};\n\nconst RadioBankOption = props => (\n  <div>\n    <input\n      id={`${props.name}${props.value}`}\n      type=\"radio\"\n      name={props.name}\n      value={props.value}\n      checked={props.checked}\n      onChange={props.handleChange}\n    />\n    <label htmlFor={`${props.name}${props.value}`}>{props.label}</label>\n  </div>\n);\n\nclass RadioBank extends React.PureComponent {\n  state = {\n    selected: this.props.defaultValue || this.props.options[0].value,\n  };\n\n  render() {\n    return (\n      <form className=\"col f-initial j-between margin-r-8\">\n        {this.props.options.map(option => (\n          <RadioBankOption\n            name={this.props.name}\n            key={option.value}\n            label={option.label}\n            value={option.value}\n            checked={this.state.selected === option.value}\n            handleChange={e => {\n              this.setState({selected: e.target.value});\n              this.props.onChange(e.target.value);\n            }}\n          />\n        ))}\n      </form>\n    );\n  }\n}\n\nclass Slider extends React.PureComponent {\n  state = {\n    val: this.props.initialValue || this.props.min || 0,\n  };\n\n  render() {\n    return (\n      <label\n        className={`slider col a-center f-initial ${this.props.className}`}\n      >\n        {this.props.label}\n        <input\n          type=\"range\"\n          orient=\"vertical\"\n          onChange={e => {\n            const v = parseFloat(e.target.value);\n            this.setState({val: v});\n            this.props.onChange(v);\n          }}\n          min={this.props.min}\n          max={this.props.max}\n          step={this.props.step}\n          value={this.state.val}\n        />\n      </label>\n    );\n  }\n}\n\nclass Knob extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    const {minAngle = -60, maxAngle = 60, defaultValue = 0} = this.props;\n    this.state = {\n      deg: (maxAngle - minAngle) * defaultValue + minAngle,\n      val: this.props.defaultValue,\n      minAngle,\n      maxAngle,\n    };\n  }\n\n  startDrag = e => {\n    e.preventDefault();\n    const knob = e.target.getBoundingClientRect();\n    const [cX, cY] = [knob.left + knob.width / 2, knob.top + knob.height / 2];\n    const handleMove = e => {\n      const deg = this.getDeg(e.clientX, e.clientY, cX, cY);\n      const val =\n        (deg - this.state.minAngle) /\n        (this.state.maxAngle - this.state.minAngle);\n      this.setState({deg, val});\n      this.props.onChange(val);\n    };\n    document.addEventListener('mousemove', handleMove);\n    document.addEventListener('mouseup', e => {\n      document.removeEventListener('mousemove', handleMove);\n    });\n  };\n\n  getDeg = (aX, aY, bX, bY) => {\n    const x = bX - aX;\n    const y = bY - aY;\n    let deg = (Math.atan(y / x) * 180) / Math.PI;\n    if ((x < 0 && y >= 0) || (x < 0 && y < 0)) {\n      deg += 90;\n    } else {\n      deg -= 90;\n    }\n    return deg > this.state.maxAngle\n      ? deg > (this.state.maxAngle + this.state.minAngle) / 2 + 180\n        ? this.state.minAngle\n        : this.state.maxAngle\n      : deg < this.state.minAngle\n      ? this.state.minAngle\n      : deg;\n  };\n\n  render() {\n    return (\n      <label>\n        {this.props.label}\n        <div\n          className={cnf({\n            'knob-outer': true,\n            'knob-small': this.props.small,\n            'knob-medium': this.props.medium,\n          })}\n          onMouseDown={this.startDrag}\n        >\n          <div\n            className=\"knob\"\n            style={{transform: `rotate(${this.state.deg}deg)`}}\n          >\n            <div className=\"knob-notch\" />\n          </div>\n        </div>\n      </label>\n    );\n  }\n}\n\nclass Toggle extends React.PureComponent {\n  state = {\n    val: false,\n  };\n  render() {\n    return;\n  }\n}\n\nclass Dropdown extends React.PureComponent {\n  state = {\n    val: false,\n  };\n  render() {\n    return;\n  }\n}\n\nclass Oscilloscope extends React.PureComponent {\n  canvas = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      waveform: new Tone.Waveform(256),\n    };\n  }\n\n  componentDidMount() {\n    Tone.Master.connect(this.state.waveform);\n    this.loop(this.canvas.current);\n  }\n\n  loop = canvas => {\n    requestAnimationFrame(() => this.loop(canvas));\n    const {width, height} = canvas;\n    const context = canvas.getContext('2d');\n    const analysis = this.state.waveform.getValue();\n\n    const margin = height * 0.2;\n\n    context.clearRect(0, 0, width, height);\n    context.beginPath();\n\n    let firstValue;\n    for (let i = 0, len = analysis.length; i < len; i++) {\n      const x = mathscale(i, 0, len - 1, 0, width);\n      const y = mathscale(analysis[i], -1, 1, height - margin, margin);\n      if (i === 0) {\n        firstValue = y;\n        context.moveTo(x, y);\n      } else {\n        context.lineTo(x, y);\n      }\n    }\n    context.lineTo(width, height);\n    context.lineTo(0, height);\n    context.lineTo(0, firstValue);\n    context.lineCap = 'round';\n    // context.stroke();\n    context.fillStyle = '#f99e1c';\n    context.fill();\n  };\n\n  render() {\n    return (\n      <div className={`oscilloscope ${this.props.className}`}>\n        <canvas ref={this.canvas} width=\"64px\" height=\"64px\" />\n      </div>\n    );\n  }\n}\n\nclass App extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    const noiseEnv = new Tone.AmplitudeEnvelope({\n      attack: 0.5,\n      decay: 0.1,\n      sustain: 1,\n    });\n    this.state = {\n      synth1: new Tone.PolySynth(6, Tone.Synth, {\n        oscillator: {type: 'sine'},\n      }).toMaster(),\n      synth2: new Tone.PolySynth(6, Tone.Synth, {\n        oscillator: {type: 'triangle'},\n      }).toMaster(),\n      noise: new Tone.Noise({\n        type: 'brown',\n        volume: -45,\n      }).chain(noiseEnv, Tone.Master),\n      noiseEnv,\n      playing: [],\n    };\n  }\n\n  handleKeyDown = e => {\n    const note = TYPING_MAP[e.key];\n    if (note && !this.state.playing.includes(note)) {\n      this.state.synth1.triggerAttack(note);\n      this.state.synth2.triggerAttack(note);\n      this.state.noiseEnv.triggerAttack();\n      this.state.noise.start();\n      this.setState(prevState => ({playing: [...prevState.playing, note]}));\n    }\n  };\n  handleKeyUp = e => {\n    const note = TYPING_MAP[e.key];\n    const playing = this.state.playing.filter(n => n !== note);\n    this.state.synth1.triggerRelease(note);\n    this.state.synth2.triggerRelease(note);\n    if (playing.length === 0) {\n      this.state.noiseEnv.triggerRelease();\n    }\n    this.setState(prevState => ({\n      playing: prevState.playing.filter(n => n !== note),\n    }));\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"mobile-only\">Open on desktop</div>\n        <div\n          onKeyDown={this.handleKeyDown}\n          onKeyUp={this.handleKeyUp}\n          tabIndex={0}\n          className=\"synth row\"\n        >\n          <div className=\"col col-1 margin-l-col-1\">\n            <Oscilloscope className=\"margin-t-96\" />\n          </div>\n          <div className=\"col col-3 margin-l-24\">\n            <div className=\"row margin-t-96 margin-b-row-3\">\n              <RadioBank\n                options={[\n                  {label: <SineIcon />, value: 'sine'},\n                  {label: <SquareIcon />, value: 'square'},\n                  {label: <TriangleIcon />, value: 'triangle'},\n                  {label: <SawIcon />, value: 'sawtooth'},\n                ]}\n                name=\"osc1-wave\"\n                onChange={oscType =>\n                  this.state.synth1.set({\n                    oscillator: {\n                      type: oscType,\n                    },\n                  })\n                }\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"A\"\n                onChange={v =>\n                  this.state.synth1.voices.forEach(\n                    synth => (synth.envelope.attack = v),\n                  )\n                }\n                initialValue={this.state.synth1.voices[0].envelope.attack}\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"D\"\n                onChange={v =>\n                  this.state.synth1.voices.forEach(\n                    synth => (synth.envelope.decay = v),\n                  )\n                }\n                initialValue={this.state.synth1.voices[0].envelope.decay}\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"S\"\n                onChange={v =>\n                  this.state.synth1.voices.forEach(\n                    synth => (synth.envelope.sustain = v),\n                  )\n                }\n                initialValue={this.state.synth1.voices[0].envelope.sustain}\n              />\n              <Slider\n                min={0.005}\n                max={3}\n                step=\"any\"\n                label=\"R\"\n                className=\"margin-r-8\"\n                onChange={v =>\n                  this.state.synth1.voices.forEach(\n                    synth => (synth.envelope.release = v),\n                  )\n                }\n                initialValue={this.state.synth1.voices[0].envelope.release}\n              />\n              <div className=\"col f-initial a-center j-between\">\n                <Knob\n                  small\n                  onChange={() => {}}\n                  defaultValue={0.5}\n                  minAngle={-120}\n                  maxAngle={120}\n                  onChange={v =>\n                    this.state.synth1.set({\n                      detune: (Math.round(24 * v) - 12) * 100,\n                    })\n                  }\n                />\n                <TuneIcon />\n                <Knob\n                  small\n                  onChange={v =>\n                    this.state.synth1.set({\n                      oscillator: {\n                        partials: [1, v ** 2, v ** 3, v ** 4, v ** 5, v ** 6],\n                      },\n                    })\n                  }\n                />\n                <HarmonicIcon />\n              </div>\n            </div>\n            <div className=\"row margin-b-96\">\n              <RadioBank\n                options={[\n                  {label: <SineIcon />, value: 'sine'},\n                  {label: <SquareIcon />, value: 'square'},\n                  {label: <TriangleIcon />, value: 'triangle'},\n                  {label: <SawIcon />, value: 'sawtooth'},\n                ]}\n                name=\"osc2-wave\"\n                onChange={oscType =>\n                  this.state.synth2.set({\n                    oscillator: {\n                      type: oscType,\n                    },\n                  })\n                }\n                defaultValue=\"triangle\"\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"A\"\n                onChange={v =>\n                  this.state.synth2.voices.forEach(\n                    synth => (synth.envelope.attack = v),\n                  )\n                }\n                initialValue={this.state.synth2.voices[0].envelope.attack}\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"D\"\n                onChange={v =>\n                  this.state.synth2.voices.forEach(\n                    synth => (synth.envelope.decay = v),\n                  )\n                }\n                initialValue={this.state.synth2.voices[0].envelope.decay}\n              />\n              <Slider\n                min={0}\n                max={1}\n                step=\"any\"\n                label=\"S\"\n                onChange={v =>\n                  this.state.synth2.voices.forEach(\n                    synth => (synth.envelope.sustain = v),\n                  )\n                }\n                initialValue={this.state.synth2.voices[0].envelope.sustain}\n              />\n              <Slider\n                min={0.005}\n                max={3}\n                step=\"any\"\n                label=\"R\"\n                className=\"margin-r-8\"\n                onChange={v =>\n                  this.state.synth2.voices.forEach(\n                    synth => (synth.envelope.release = v),\n                  )\n                }\n                initialValue={this.state.synth2.voices[0].envelope.release}\n              />\n              <div className=\"col f-initial a-center j-between\">\n                <Knob\n                  small\n                  minAngle={-120}\n                  maxAngle={120}\n                  onChange={() => {}}\n                  defaultValue={0.5}\n                  onChange={v =>\n                    this.state.synth1.set({\n                      detune: (Math.round(24 * v) - 12) * 100,\n                    })\n                  }\n                />\n                <TuneIcon />\n                <Knob\n                  small\n                  onChange={v =>\n                    this.state.synth2.set({\n                      oscillator: {\n                        partials: [1, v ** 2, v ** 3, v ** 4, v ** 5, v ** 6],\n                      },\n                    })\n                  }\n                />\n                <HarmonicIcon />\n              </div>\n            </div>\n          </div>\n          <div className=\"col col-4 j-center margin-l-col-1\">\n            <div className=\"row a-center\">\n              <div className=\"col f-initial margin-r-16\">\n                <LinkIcon />\n              </div>\n              <div className=\"col f-initial margin-r-32\">\n                <Knob\n                  onChange={val => {\n                    this.state.synth1.volume.value = -25 + val * 25;\n                    this.state.synth2.volume.value = val * -25;\n                  }}\n                  minAngle={-180}\n                  maxAngle={0}\n                  defaultValue={0.5}\n                />\n              </div>\n              <div className=\"col f-initial a-center j-between\">\n                <Knob\n                  medium\n                  onChange={v =>\n                    this.state.noise.set({volume: -25 * (1 - v) - 10})\n                  }\n                />\n                <NoiseIcon />\n              </div>\n              <div className=\"col\"></div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './common.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}