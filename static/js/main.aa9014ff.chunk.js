(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(9),i=n.n(r),c=n(7),o=n(10),s=n(2),u=n(3),m=n(5),h=n(4),p=n(6),v=n(1),g=n.n(v);function f(e,t,n,a,l){return 0===arguments.length||e!=e||t!=t||n!=n||a!=a||l!=l?NaN:e===1/0||e===-1/0?e:(e-t)*(l-a)/(n-t)+a}var E=function(e){return(t=e,Object.keys(t).filter(function(e){return t[e]})).join(" ");var t};g.a.context.lookAhead=0;var d=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("path",{d:"M3.3,12c0,0,4.1-9.3,8.7,0s8.7,0,8.7,0"})))},y=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("polyline",{points:"20.7,7.7 20.7,16.3 12,16.3 12,7.7 3.3,7.7 3.3,16.3 \t\t"})))},b=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("polyline",{points:"3.3,16.3 12,7.7 20.7,16.3 \t\t"})))},w=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("polyline",{points:"3.3,16.3 20.7,7.7 20.7,16.3 \t"})))},x=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("path",{d:"M3.3,12c0,0,4.1-9.3,8.7,0s8.7,0,8.7,0"}),a.createElement("path",{d:"M20.7,12c0,0-2.1,9.3-4.3,0c-2.3-9.3-4.3,0-4.3,0s-2.1,9.3-4.3,0s-4.3,0-4.3,0"})))},C=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("line",{x1:"12",y1:"18.5",x2:"12",y2:"13"}),a.createElement("path",{d:"M10,11c0,1.1,0.9,2,2,2s2-0.9,2-2"}),a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"5.5"}),a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"5.5"})))},j=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("polyline",{points:"6.3,17.2 11.5,12 6.3,6.8 "}),a.createElement("line",{x1:"11.5",y1:"12",x2:"17.7",y2:"12"})))},A=function(e){return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:"icon"},a.createElement("g",null,a.createElement("polyline",{points:"5,16 8,8 11,16 12,12 15,16 17,8 19,16 "})))},N={a:"A3",s:"B3",d:"C4",f:"D4",g:"E4",h:"F4",j:"G4",k:"A4",l:"B4",";":"C5",q:"G#3",w:"Bb3",r:"C#4",t:"D#4",u:"F#4",i:"G#4",o:"Bb4",A:"A2",S:"B2",D:"C3",F:"D3",G:"E3",H:"F3",J:"G3",K:"A3",L:"B3",":":"C3",Q:"G#2",W:"Bb2",R:"C#3",T:"D#3",U:"F#3",I:"G#3",O:"Bb3"},k=function(e){return a.createElement("div",null,a.createElement("input",{id:"".concat(e.name).concat(e.value),type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange}),a.createElement("label",{htmlFor:"".concat(e.name).concat(e.value)},e.label))},O=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={selected:n.props.defaultValue||n.props.options[0].value},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("form",{className:"col f-initial j-between margin-r-8"},this.props.options.map(function(t){return a.createElement(k,{name:e.props.name,key:t.value,label:t.label,value:t.value,checked:e.state.selected===t.value,handleChange:function(t){e.setState({selected:t.target.value}),e.props.onChange(t.target.value)}})}))}}]),t}(a.PureComponent),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={val:n.props.initialValue||n.props.min||0},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("label",{className:"slider col a-center f-initial ".concat(this.props.className)},this.props.label,a.createElement("input",{type:"range",orient:"vertical",onChange:function(t){var n=parseFloat(t.target.value);e.setState({val:n}),e.props.onChange(n)},min:this.props.min,max:this.props.max,step:this.props.step,value:this.state.val}))}}]),t}(a.PureComponent),B=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).startDrag=function(e){e.preventDefault();var t=e.target.getBoundingClientRect(),a=t.left+t.width/2,l=t.top+t.height/2,r=function(e){var t=n.getDeg(e.clientX,e.clientY,a,l),r=(t-n.state.minAngle)/(n.state.maxAngle-n.state.minAngle);n.setState({deg:t,val:r}),n.props.onChange(r)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",function(e){document.removeEventListener("mousemove",r)})},n.getDeg=function(e,t,a,l){var r=a-e,i=l-t,c=180*Math.atan(i/r)/Math.PI;return r<0&&i>=0||r<0&&i<0?c+=90:c-=90,c>n.state.maxAngle?c>(n.state.maxAngle+n.state.minAngle)/2+180?n.state.minAngle:n.state.maxAngle:c<n.state.minAngle?n.state.minAngle:c};var a=n.props,l=a.minAngle,r=void 0===l?-60:l,i=a.maxAngle,c=void 0===i?60:i,o=a.defaultValue,u=void 0===o?0:o;return n.state={deg:(c-r)*u+r,val:n.props.defaultValue,minAngle:r,maxAngle:c},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.createElement("label",null,this.props.label,a.createElement("div",{className:E({"knob-outer":!0,"knob-small":this.props.small,"knob-medium":this.props.medium}),onMouseDown:this.startDrag},a.createElement("div",{className:"knob",style:{transform:"rotate(".concat(this.state.deg,"deg)")}},a.createElement("div",{className:"knob-notch"}))))}}]),t}(a.PureComponent),D=(a.PureComponent,a.PureComponent,function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).canvas=a.createRef(),n.loop=function(e){requestAnimationFrame(function(){return n.loop(e)});var t,a=e.width,l=e.height,r=e.getContext("2d"),i=n.state.waveform.getValue(),c=.2*l;r.clearRect(0,0,a,l),r.beginPath();for(var o=0,s=i.length;o<s;o++){var u=f(o,0,s-1,0,a),m=f(i[o],-1,1,l-c,c);0===o?(t=m,r.moveTo(u,m)):r.lineTo(u,m)}r.lineTo(a,l),r.lineTo(0,l),r.lineTo(0,t),r.lineCap="round",r.fillStyle="#f99e1c",r.fill()},n.state={waveform:new g.a.Waveform(256)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){g.a.Master.connect(this.state.waveform),this.loop(this.canvas.current)}},{key:"render",value:function(){return a.createElement("div",{className:"oscilloscope ".concat(this.props.className)},a.createElement("canvas",{ref:this.canvas,width:"64px",height:"64px"}))}}]),t}(a.PureComponent)),V=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleKeyDown=function(e){var t=N[e.key];t&&!n.state.playing.includes(t)&&(n.state.synth1.triggerAttack(t),n.state.synth2.triggerAttack(t),n.state.noiseEnv.triggerAttack(),n.state.noise.start(),n.setState(function(e){return{playing:[].concat(Object(o.a)(e.playing),[t])}}))},n.handleKeyUp=function(e){var t=N[e.key],a=n.state.playing.filter(function(e){return e!==t});n.state.synth1.triggerRelease(t),n.state.synth2.triggerRelease(t),0===a.length&&n.state.noiseEnv.triggerRelease(),n.setState(function(e){return{playing:e.playing.filter(function(e){return e!==t})}})};var a=new g.a.AmplitudeEnvelope({attack:.5,decay:.1,sustain:1});return n.state={synth1:new g.a.PolySynth(6,g.a.Synth,{oscillator:{type:"sine"}}).toMaster(),synth2:new g.a.PolySynth(6,g.a.Synth,{oscillator:{type:"triangle"}}).toMaster(),noise:new g.a.Noise({type:"brown",volume:-45}).chain(a,g.a.Master),noiseEnv:a,playing:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:0,className:"synth row"},a.createElement("div",{className:"col col-1 margin-l-col-1"},a.createElement(D,{className:"margin-t-96"})),a.createElement("div",{className:"col col-3 margin-l-24"},a.createElement("div",{className:"row margin-t-96 margin-b-row-3"},a.createElement(O,{options:[{label:a.createElement(d,null),value:"sine"},{label:a.createElement(y,null),value:"square"},{label:a.createElement(b,null),value:"triangle"},{label:a.createElement(w,null),value:"sawtooth"}],name:"osc1-wave",onChange:function(t){return e.state.synth1.set({oscillator:{type:t}})}}),a.createElement(M,{min:0,max:1,step:"any",label:"A",onChange:function(t){return e.state.synth1.voices.forEach(function(e){return e.envelope.attack=t})},initialValue:this.state.synth1.voices[0].envelope.attack}),a.createElement(M,{min:0,max:1,step:"any",label:"D",onChange:function(t){return e.state.synth1.voices.forEach(function(e){return e.envelope.decay=t})},initialValue:this.state.synth1.voices[0].envelope.decay}),a.createElement(M,{min:0,max:1,step:"any",label:"S",onChange:function(t){return e.state.synth1.voices.forEach(function(e){return e.envelope.sustain=t})},initialValue:this.state.synth1.voices[0].envelope.sustain}),a.createElement(M,{min:.005,max:3,step:"any",label:"R",className:"margin-r-8",onChange:function(t){return e.state.synth1.voices.forEach(function(e){return e.envelope.release=t})},initialValue:this.state.synth1.voices[0].envelope.release}),a.createElement("div",{className:"col f-initial a-center j-between"},a.createElement(B,Object(c.a)({small:!0,onChange:function(){},defaultValue:.5,minAngle:-120,maxAngle:120},"onChange",function(t){return e.state.synth1.set({detune:100*(Math.round(24*t)-12)})})),a.createElement(C,null),a.createElement(B,{small:!0,onChange:function(t){return e.state.synth1.set({oscillator:{partials:[1,Math.pow(t,2),Math.pow(t,3),Math.pow(t,4),Math.pow(t,5),Math.pow(t,6)]}})}}),a.createElement(x,null))),a.createElement("div",{className:"row margin-b-96"},a.createElement(O,{options:[{label:a.createElement(d,null),value:"sine"},{label:a.createElement(y,null),value:"square"},{label:a.createElement(b,null),value:"triangle"},{label:a.createElement(w,null),value:"sawtooth"}],name:"osc2-wave",onChange:function(t){return e.state.synth2.set({oscillator:{type:t}})},defaultValue:"triangle"}),a.createElement(M,{min:0,max:1,step:"any",label:"A",onChange:function(t){return e.state.synth2.voices.forEach(function(e){return e.envelope.attack=t})},initialValue:this.state.synth2.voices[0].envelope.attack}),a.createElement(M,{min:0,max:1,step:"any",label:"D",onChange:function(t){return e.state.synth2.voices.forEach(function(e){return e.envelope.decay=t})},initialValue:this.state.synth2.voices[0].envelope.decay}),a.createElement(M,{min:0,max:1,step:"any",label:"S",onChange:function(t){return e.state.synth2.voices.forEach(function(e){return e.envelope.sustain=t})},initialValue:this.state.synth2.voices[0].envelope.sustain}),a.createElement(M,{min:.005,max:3,step:"any",label:"R",className:"margin-r-8",onChange:function(t){return e.state.synth2.voices.forEach(function(e){return e.envelope.release=t})},initialValue:this.state.synth2.voices[0].envelope.release}),a.createElement("div",{className:"col f-initial a-center j-between"},a.createElement(B,Object(c.a)({small:!0,minAngle:-120,maxAngle:120,onChange:function(){},defaultValue:.5},"onChange",function(t){return e.state.synth1.set({detune:100*(Math.round(24*t)-12)})})),a.createElement(C,null),a.createElement(B,{small:!0,onChange:function(t){return e.state.synth2.set({oscillator:{partials:[1,Math.pow(t,2),Math.pow(t,3),Math.pow(t,4),Math.pow(t,5),Math.pow(t,6)]}})}}),a.createElement(x,null)))),a.createElement("div",{className:"col col-4 j-center margin-l-col-1"},a.createElement("div",{className:"row a-center"},a.createElement("div",{className:"col f-initial margin-r-16"},a.createElement(j,null)),a.createElement("div",{className:"col f-initial margin-r-32"},a.createElement(B,{onChange:function(t){e.state.synth1.volume.value=25*t-25,e.state.synth2.volume.value=-25*t},minAngle:-180,maxAngle:0,defaultValue:.5})),a.createElement("div",{className:"col f-initial a-center j-between"},a.createElement(B,{medium:!0,onChange:function(t){return e.state.noise.set({volume:-25*(1-t)-10})}}),a.createElement(A,null)),a.createElement("div",{className:"col"}))))}}]),t}(a.PureComponent);n(17),n(18);i.a.render(l.a.createElement(V,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.aa9014ff.chunk.js.map